
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="gradio_docs">
      
      
        <meta name="author" content="Ean Yang">
      
      
        <link rel="canonical" href="https://eanyang7.github.io/gradio_docs/05_custom-components/07_pdf-component-example/">
      
      
        <link rel="prev" href="../06_frequently-asked-questions/">
      
      
        <link rel="next" href="../08_multimodal-chatbot-part1/">
      
      
      <link rel="icon" href="../../assets/favicon.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>Case Study: A Component to Display PDFs - gradio 文档教程</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#case-study-a-component-to-display-pdfs" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="gradio 文档教程" class="md-header__button md-logo" aria-label="gradio 文档教程" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            gradio 文档教程
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Case Study: A Component to Display PDFs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="切换为暗黑模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换为暗黑模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="切换为浅色模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换为浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EanYang7/gradio_docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="gradio 文档教程" class="md-nav__button md-logo" aria-label="gradio 文档教程" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    gradio 文档教程
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EanYang7/gradio_docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing a Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../01_getting-started/01_quickstart/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    01 getting started
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../02_building-interfaces/01_interface-state/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    02 building interfaces
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../03_building-with-blocks/01_blocks-and-event-listeners/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    03 building with blocks
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../04_chatbots/01_creating-a-chatbot-fast/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    04 chatbots
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05 custom components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            05 custom components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../01_custom-components-in-five-minutes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Components in 5 minutes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../02_key-component-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gradio Components: The Key Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../03_configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Your Custom Component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../04_backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Backend 🐍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../05_frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Frontend 🌐⭐️
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../06_frequently-asked-questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently Asked Questions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Case Study: A Component to Display PDFs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Case Study: A Component to Display PDFs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-0-prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Step 0: Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-creating-the-custom-component" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Creating the custom component
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-frontend-modify-javascript-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Frontend - modify javascript dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-frontend-launching-the-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Frontend - Launching the Dev Server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-frontend-the-basic-skeleton" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Frontend - The basic skeleton
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-frontend-nicer-upload-text" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Frontend - Nicer Upload Text
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-pdf-rendering-logic" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: PDF Rendering logic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-handling-the-file-upload-and-clear" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7: Handling The File Upload And Clear
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-adding-buttons-to-navigate-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8: Adding buttons to navigate pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-85-the-example-view" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.5: The Example view
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-the-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Step 9: The backend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-add-a-demo-and-publish" class="md-nav__link">
    <span class="md-ellipsis">
      Step 10: Add a demo and publish!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../08_multimodal-chatbot-part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build a Custom Multimodal Chatbot - Part 1
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../06_integrating-other-frameworks/01_using-hugging-face-integrations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    06 integrating other frameworks
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../07_tabular-data-science-and-plots/01_connecting-to-a-database/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    07 tabular data science and plots
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../08_client-libraries/01_getting-started-with-the-python-client/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    08 client libraries
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../09_other-tutorials/create-your-own-friends-with-a-gan/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    09 other tutorials
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../cn/CONTRIBUTING/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Cn
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-0-prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Step 0: Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-creating-the-custom-component" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Creating the custom component
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-frontend-modify-javascript-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Frontend - modify javascript dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-frontend-launching-the-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Frontend - Launching the Dev Server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-frontend-the-basic-skeleton" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Frontend - The basic skeleton
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-frontend-nicer-upload-text" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Frontend - Nicer Upload Text
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-pdf-rendering-logic" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: PDF Rendering logic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-handling-the-file-upload-and-clear" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7: Handling The File Upload And Clear
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-adding-buttons-to-navigate-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8: Adding buttons to navigate pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-85-the-example-view" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.5: The Example view
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-the-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Step 9: The backend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-add-a-demo-and-publish" class="md-nav__link">
    <span class="md-ellipsis">
      Step 10: Add a demo and publish!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EanYang7/gradio_docs/tree/main/docs/05_custom-components/07_pdf-component-example.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EanYang7/gradio_docs/tree/main/docs/05_custom-components/07_pdf-component-example.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="case-study-a-component-to-display-pdfs">Case Study: A Component to Display PDFs<a class="headerlink" href="#case-study-a-component-to-display-pdfs" title="Permanent link">⚓︎</a></h1>
<p>Let's work through an example of building a custom gradio component for displaying PDF files.
This component will come in handy for showcasing <a href="https://huggingface.co/models?pipeline_tag=document-question-answering&amp;sort=trending">document question answering</a> models, which typically work on PDF input.
This is a sneak preview of what our finished component will look like:</p>
<p><img alt="demo" src="https://gradio-builds.s3.amazonaws.com/assets/PDFDisplay.png" /></p>
<h2 id="step-0-prerequisites">Step 0: Prerequisites<a class="headerlink" href="#step-0-prerequisites" title="Permanent link">⚓︎</a></h2>
<p>Make sure you have gradio 4.0 installed as well as node 18+.
As of the time of publication, the latest release is 4.1.1.
Also, please read the <a href="./custom-components-in-five-minutes">Five Minute Tour</a> of custom components and the <a href="./key-component-concepts">Key Concepts</a> guide before starting.</p>
<h2 id="step-1-creating-the-custom-component">Step 1: Creating the custom component<a class="headerlink" href="#step-1-creating-the-custom-component" title="Permanent link">⚓︎</a></h2>
<p>Navigate to a directory of your choosing and run the following command:</p>
<div class="highlight"><pre><span></span><code>gradio<span class="w"> </span>cc<span class="w"> </span>create<span class="w"> </span>PDF
</code></pre></div>
<p>Tip: You should change the name of the component.
Some of the screenshots assume the component is callled <code>PDF</code> but the concepts are the same!</p>
<p>This will create a subdirectory called <code>pdf</code> in your current working directory.
There are three main subdirectories in <code>pdf</code>: <code>frontend</code>, <code>backend</code>, and <code>demo</code>.
If you open <code>pdf</code> in your code editor, it will look like this:</p>
<p><img alt="directory structure" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/CodeStructure.png" /></p>
<p>Tip: For this demo we are not templating off a current gradio component. But you can see the list of available templates with <code>gradio cc show</code> and then pass the template name to the <code>--template</code> option, e.g. <code>gradio cc create &lt;Name&gt; --template &lt;foo&gt;</code></p>
<h2 id="step-2-frontend-modify-javascript-dependencies">Step 2: Frontend - modify javascript dependencies<a class="headerlink" href="#step-2-frontend-modify-javascript-dependencies" title="Permanent link">⚓︎</a></h2>
<p>We're going to use the <a href="https://mozilla.github.io/pdf.js/">pdfjs</a> javascript library to display the pdfs in the frontend. 
Let's start off by adding it to our frontend project's dependencies, as well as adding a couple of other projects we'll need.</p>
<p>From within the <code>frontend</code> directory, run <code>npm install @gradio/client @gradio/upload @gradio/icons @gradio/button</code> and <code>npm install --save-dev pdfjs-dist@3.11.174</code>.
Also, let's uninstall the <code>@zerodevx/svelte-json-view</code> dependency by running <code>npm uninstall @zerodevx/svelte-json-view</code>.</p>
<p>The complete <code>package.json</code> should look like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gradio_pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gradio component for displaying PDFs&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;module&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ISC&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;private&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;main_changeset&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;exports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;.&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./Index.svelte&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;./example&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./Example.svelte&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;./package.json&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./package.json&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;devDependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;pdfjs-dist&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.11.174&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;@gradio/atoms&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/statustracker&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.3.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/utils&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/client&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.7.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/upload&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.3.2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/icons&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@gradio/button&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.3&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pdfjs-dist&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.11.174&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Tip: Running <code>npm install</code> will install the latest version of the package available. You can install a specific version with <code>npm install package@&lt;version&gt;</code>.  You can find all of the gradio javascript package documentation <a href="https://www.gradio.app/main/docs/js">here</a>. It is recommended you use the same versions as me as the API can change.</p>
<p>Navigate to <code>Index.svelte</code> and delete mentions of <code>JSONView</code></p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">JsonView</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@zerodevx/svelte-json-view&quot;</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">JsonView</span><span class="w"> </span><span class="nx">json</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</code></pre></div>
<h2 id="step-3-frontend-launching-the-dev-server">Step 3: Frontend - Launching the Dev Server<a class="headerlink" href="#step-3-frontend-launching-the-dev-server" title="Permanent link">⚓︎</a></h2>
<p>Run the <code>dev</code> command to launch the development server.
This will open the demo in <code>demo/app.py</code> in an environment where changes to the <code>frontend</code> and <code>backend</code> directories will reflect instantaneously in the launched app.</p>
<p>After launching the dev server, you should see a link printed to your console that says <code>Frontend Server (Go here): ...</code>.</p>
<p><img alt="" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/dev_server_terminal.png" /></p>
<p>You should see the following:</p>
<p><img alt="" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/frontend_start.png" /></p>
<p>Its not impressive yet but we're ready to start coding!</p>
<h2 id="step-4-frontend-the-basic-skeleton">Step 4: Frontend - The basic skeleton<a class="headerlink" href="#step-4-frontend-the-basic-skeleton" title="Permanent link">⚓︎</a></h2>
<p>We're going to start off by first writing the skeleton of our frontend and then adding the pdf rendering logic.
Add the following imports and expose the following properties to the top of your file in the <code>&lt;script&gt;</code> tag.
You may get some warnings from your code editor that some props are not used.
That's ok.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">tick</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;svelte&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Gradio</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/utils&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Block</span><span class="p">,</span><span class="w"> </span><span class="nx">BlockLabel</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/atoms&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">File</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/icons&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StatusTracker</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/statustracker&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">LoadingStatus</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/statustracker&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FileData</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/client&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">normalise_file</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/client&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Upload</span><span class="p">,</span><span class="w"> </span><span class="nx">ModifyUpload</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/upload&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">elem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">elem_classes</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">visible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">FileData</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">root</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">500</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">proxy_url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">min_width</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">loading_status</span><span class="o">:</span><span class="w"> </span><span class="kt">LoadingStatus</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">gradio</span><span class="o">:</span><span class="w"> </span><span class="kt">Gradio</span><span class="o">&lt;</span><span class="p">{</span>
<span class="w">        </span><span class="nx">change</span><span class="o">:</span><span class="w"> </span><span class="kt">never</span><span class="p">;</span>
<span class="w">        </span><span class="nx">upload</span><span class="o">:</span><span class="w"> </span><span class="kt">never</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">old_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_value</span><span class="p">;</span>
</code></pre></div>
<p>Tip: The `gradio`` object passed in here contains some metadata about the application as well as some utility methods. One of these utilities is a dispatch method. We want to dispatch change and upload events whenever our PDF is changed or updated. This line provides type hints that these are the only events we will be dispatching.</p>
<p>We want our frontend component to let users upload a PDF document if there isn't one already loaded.
If it is loaded, we want to display it underneath a "clear" button that lets our users upload a new document. 
We're going to use the <code>Upload</code> and <code>ModifyUpload</code> components that come with the <code>@gradio/upload</code> package to do this.
Underneath the <code>&lt;/script&gt;</code> tag, delete all the current code and add the following:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Block</span><span class="w"> </span><span class="p">{</span><span class="nx">visible</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">elem_id</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">elem_classes</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">container</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">scale</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">min_width</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="err">#</span><span class="k">if</span><span class="w"> </span><span class="nx">loading_status</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">StatusTracker</span>
<span class="w">            </span><span class="nx">autoscroll</span><span class="o">=</span><span class="p">{</span><span class="nx">gradio</span><span class="p">.</span><span class="nx">autoscroll</span><span class="p">}</span>
<span class="w">            </span><span class="nx">i18n</span><span class="o">=</span><span class="p">{</span><span class="nx">gradio</span><span class="p">.</span><span class="nx">i18n</span><span class="p">}</span>
<span class="w">            </span><span class="p">{...</span><span class="nx">loading_status</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="err">/if}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">BlockLabel</span>
<span class="w">        </span><span class="nx">show_label</span><span class="o">=</span><span class="p">{</span><span class="nx">label</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">null</span><span class="p">}</span>
<span class="w">        </span><span class="nx">Icon</span><span class="o">=</span><span class="p">{</span><span class="nx">File</span><span class="p">}</span>
<span class="w">        </span><span class="kr">float</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">null</span><span class="p">}</span>
<span class="w">        </span><span class="nx">label</span><span class="o">=</span><span class="p">{</span><span class="nx">label</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;File&quot;</span><span class="p">}</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="err">#</span><span class="k">if</span><span class="w"> </span><span class="nx">_value</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ModifyUpload</span><span class="w"> </span><span class="nx">i18n</span><span class="o">=</span><span class="p">{</span><span class="nx">gradio</span><span class="p">.</span><span class="nx">i18n</span><span class="p">}</span><span class="w"> </span><span class="nx">absolute</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="o">:</span><span class="k">else</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Upload</span>
<span class="w">            </span><span class="nx">filetype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;application/pdf&quot;</span><span class="p">}</span>
<span class="w">            </span><span class="nx">file_count</span><span class="o">=</span><span class="s2">&quot;single&quot;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">root</span><span class="p">}</span>
<span class="w">        </span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Upload</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">PDF</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Upload&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="err">/if}</span>
<span class="o">&lt;</span><span class="err">/Block&gt;</span>
</code></pre></div>
<p>You should see the following when you navigate to your app after saving your current changes:</p>
<p><img alt="" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/frontend_1.png" /></p>
<h2 id="step-5-frontend-nicer-upload-text">Step 5: Frontend - Nicer Upload Text<a class="headerlink" href="#step-5-frontend-nicer-upload-text" title="Permanent link">⚓︎</a></h2>
<p>The <code>Upload your PDF</code> text looks a bit small and barebones. 
Lets customize it!</p>
<p>Create a new file called <code>PdfUploadText.svelte</code> and copy the following code.
Its creating a new div to display our "upload text" with some custom styling.</p>
<p>Tip: Notice that we're leveraging Gradio core's existing css variables here: <code>var(--size-60)</code> and <code>var(--body-text-color-subdued)</code>. This allows our component to work nicely in light mode and dark mode, as well as with Gradio's built-in themes.</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">lang</span><span class="o">=</span><span class="s2">&quot;ts&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Upload</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">UploadIcon</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/icons&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">hovered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;icon-wrap&quot;</span><span class="w"> </span><span class="nx">class</span><span class="o">:</span><span class="kt">hovered</span><span class="o">&gt;&lt;</span><span class="nx">UploadIcon</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">    </span><span class="nx">Drop</span><span class="w"> </span><span class="nx">PDF</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;or&quot;</span><span class="o">&gt;-</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="o">-&lt;</span><span class="err">/span&gt;</span>
<span class="w">    </span><span class="nx">Click</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">Upload</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">.</span><span class="nx">wrap</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="kt">flex</span><span class="p">;</span>
<span class="w">        </span><span class="nx">flex</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span><span class="w"> </span><span class="kt">column</span><span class="p">;</span>
<span class="w">        </span><span class="nx">justify</span><span class="o">-</span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">        </span><span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">        </span><span class="nx">min</span><span class="o">-</span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">size</span><span class="o">-</span><span class="mf">60</span><span class="p">);</span>
<span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">block</span><span class="o">-</span><span class="nx">label</span><span class="o">-</span><span class="nx">text</span><span class="o">-</span><span class="nx">color</span><span class="p">);</span>
<span class="w">        </span><span class="nx">line</span><span class="o">-</span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">line</span><span class="o">-</span><span class="nx">md</span><span class="p">);</span>
<span class="w">        </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">100</span><span class="o">%</span><span class="p">;</span>
<span class="w">        </span><span class="nx">padding</span><span class="o">-</span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">size</span><span class="o">-</span><span class="mf">3</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nx">or</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">body</span><span class="o">-</span><span class="nx">text</span><span class="o">-</span><span class="nx">color</span><span class="o">-</span><span class="nx">subdued</span><span class="p">);</span>
<span class="w">        </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="kt">flex</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nx">icon</span><span class="o">-</span><span class="nx">wrap</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="kt">30px</span><span class="p">;</span>
<span class="w">        </span><span class="nx">margin</span><span class="o">-</span><span class="nx">bottom</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">spacing</span><span class="o">-</span><span class="nx">lg</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">@media</span><span class="w"> </span><span class="p">(</span><span class="o">--</span><span class="nx">screen</span><span class="o">-</span><span class="nx">md</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="nx">wrap</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">text</span><span class="o">-</span><span class="nx">lg</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nx">hovered</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">color</span><span class="o">-</span><span class="nx">accent</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/style&gt;</span>
</code></pre></div>
<p>Now import <code>PdfUploadText.svelte</code> in your <code>&lt;script&gt;</code> and pass it to the <code>Upload</code> component!</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="nx">PdfUploadText</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./PdfUploadText.svelte&quot;</span><span class="p">;</span>

<span class="p">...</span>

<span class="w">    </span><span class="o">&lt;</span><span class="nx">Upload</span>
<span class="w">        </span><span class="nx">filetype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;application/pdf&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="nx">file_count</span><span class="o">=</span><span class="s2">&quot;single&quot;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">root</span><span class="p">}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">PdfUploadText</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Upload&gt;</span>
</code></pre></div>
<p>After saving your code, the frontend should now look like this:</p>
<p><img alt="" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/better_upload.png" /></p>
<h2 id="step-6-pdf-rendering-logic">Step 6: PDF Rendering logic<a class="headerlink" href="#step-6-pdf-rendering-logic" title="Permanent link">⚓︎</a></h2>
<p>This is the most advanced javascript part.
It took me a while to figure it out!
Do not worry if you have trouble, the important thing is to not be discouraged 💪
Ask for help in the gradio <a href="https://discord.gg/hugging-face-879548962464493619">discord</a> if you need and ask for help.</p>
<p>With that out of the way, let's start off by importing <code>pdfjs</code> and loading the code of the pdf worker from the mozilla cdn.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="nx">pdfjsLib</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;pdfjs-dist&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">GlobalWorkerOptions</span><span class="p">.</span><span class="nx">workerSrc</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s2">&quot;https://cdn.bootcss.com/pdf.js/3.11.174/pdf.worker.js&quot;</span><span class="p">;</span>
</code></pre></div>
<p>Also create the following variables:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">pdfDoc</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">numPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">;</span>
</code></pre></div>
<p>Now, we will use <code>pdfjs</code> to render a given page of the PDF onto an <code>html</code> document.
Add the following code to <code>Index.svelte</code>:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">get_doc</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">FileData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">loadingTask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">getDocument</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
<span class="w">        </span><span class="nx">pdfDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">loadingTask</span><span class="p">.</span><span class="nx">promise</span><span class="p">;</span>
<span class="w">        </span><span class="nx">numPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">numPages</span><span class="p">;</span>
<span class="w">        </span><span class="nx">render_page</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">render_page</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Render a specific page of the PDF onto the canvas</span>
<span class="w">        </span><span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="nx">currentPage</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">ctx</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="nx">viewport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="w"> </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="w"> </span><span class="p">});</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="nx">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">viewport</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
<span class="w">            </span><span class="nx">viewport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="w"> </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="kt">scale</span><span class="w"> </span><span class="p">});</span>

<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">renderContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">canvasContext</span><span class="o">:</span><span class="w"> </span><span class="kt">ctx</span><span class="p">,</span>
<span class="w">                </span><span class="nx">viewport</span><span class="p">,</span>
<span class="w">            </span><span class="p">};</span>
<span class="w">            </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">viewport</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
<span class="w">            </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">viewport</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
<span class="w">            </span><span class="nx">page</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">renderContext</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute the url to fetch the file from the backend</span>
<span class="w">    </span><span class="c1">// whenever a new value is passed in.</span>
<span class="w">    </span><span class="nx">$</span><span class="o">:</span><span class="w"> </span><span class="kt">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">normalise_file</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">root</span><span class="p">,</span><span class="w"> </span><span class="nx">proxy_url</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// If the value changes, render the PDF of the currentPage</span>
<span class="w">    </span><span class="nx">$</span><span class="o">:</span><span class="w"> </span><span class="kt">if</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">old_value</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">_value</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">_value</span><span class="p">){</span>
<span class="w">            </span><span class="nx">get_doc</span><span class="p">(</span><span class="nx">_value</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">old_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_value</span><span class="p">;</span>
<span class="w">        </span><span class="nx">gradio</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>Tip: The <code>$:</code> syntax in svelte is how you declare statements to be reactive. Whenever any of the inputs of the statement change, svelte will automatically re-run that statement.</p>
<p>Now place the <code>canvas</code> underneath the <code>ModifyUpload</code> component:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;pdf-canvas&quot;</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;height: {height}px&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">canvas</span><span class="w"> </span><span class="nx">bind</span><span class="o">:</span><span class="kt">this</span><span class="o">=</span><span class="p">{</span><span class="nx">canvasRef</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/canvas&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div>
<p>And add the following styles to the <code>&lt;style&gt;</code> tag:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">.</span><span class="nx">pdf</span><span class="o">-</span><span class="nx">canvas</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="kt">flex</span><span class="p">;</span>
<span class="w">        </span><span class="nx">justify</span><span class="o">-</span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">        </span><span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/style&gt;</span>
</code></pre></div>
<h2 id="step-7-handling-the-file-upload-and-clear">Step 7: Handling The File Upload And Clear<a class="headerlink" href="#step-7-handling-the-file-upload-and-clear" title="Permanent link">⚓︎</a></h2>
<p>Now for the fun part - actually rendering the PDF when the file is uploaded!
Add the following functions to the <code>&lt;script&gt;</code> tag:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handle_clear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="nx">tick</span><span class="p">();</span>
<span class="w">        </span><span class="nx">gradio</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handle_upload</span><span class="p">({</span><span class="nx">detail</span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">CustomEvent</span><span class="o">&lt;</span><span class="nx">FileData</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">detail</span><span class="p">;</span>
<span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="nx">tick</span><span class="p">();</span>
<span class="w">        </span><span class="nx">gradio</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">gradio</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s2">&quot;upload&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>Tip: The <code>gradio.dispatch</code> method is actually what is triggering the <code>change</code> or <code>upload</code> events in the backend. For every event defined in the component's backend, we will explain how to do this in Step 9, there must be at least one <code>gradio.dispatch("&lt;event-name&gt;")</code> call. These are called <code>gradio</code> events and they can be listended from the entire Gradio application. You can dispatch a built-in <code>svelte</code> event with the <code>dispatch</code> function. These events can only be listened to from the component's direct parent. Learn about svelte events from the <a href="https://learn.svelte.dev/tutorial/component-events">official documentation</a>.</p>
<p>Now we will run these functions whenever the <code>Upload</code> component uploads a file and whenever the <code>ModifyUpload</code> component clears the current file. The <code>&lt;Upload&gt;</code> component dispatches a <code>load</code> event with a payload of type <code>FileData</code> corresponding to the uploaded file. The <code>on:load</code> syntax tells <code>Svelte</code> to automatically run this function in response to the event.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="o">&lt;</span><span class="nx">ModifyUpload</span><span class="w"> </span><span class="nx">i18n</span><span class="o">=</span><span class="p">{</span><span class="nx">gradio</span><span class="p">.</span><span class="nx">i18n</span><span class="p">}</span><span class="w"> </span><span class="nx">on</span><span class="o">:</span><span class="kt">clear</span><span class="o">=</span><span class="p">{</span><span class="nx">handle_clear</span><span class="p">}</span><span class="w"> </span><span class="nx">absolute</span><span class="w"> </span><span class="o">/&gt;</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="o">&lt;</span><span class="nx">Upload</span>
<span class="w">        </span><span class="nx">on</span><span class="o">:</span><span class="kt">load</span><span class="o">=</span><span class="p">{</span><span class="nx">handle_upload</span><span class="p">}</span>
<span class="w">        </span><span class="nx">filetype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;application/pdf&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="nx">file_count</span><span class="o">=</span><span class="s2">&quot;single&quot;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">root</span><span class="p">}</span>
<span class="w">    </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">PdfUploadText</span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Upload&gt;</span>
</code></pre></div>
<p>Congratulations! You have a working pdf uploader!</p>
<p><img alt="upload-gif" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/pdf_component_gif_docs.gif" /></p>
<h2 id="step-8-adding-buttons-to-navigate-pages">Step 8: Adding buttons to navigate pages<a class="headerlink" href="#step-8-adding-buttons-to-navigate-pages" title="Permanent link">⚓︎</a></h2>
<p>If a user uploads a PDF document with multiple pages, they will only be able to see the first one.
Let's add some buttons to help them navigate the page.
We will use the <code>BaseButton</code> from <code>@gradio/button</code> so that they look like regular Gradio buttons.</p>
<p>Import the <code>BaseButton</code> and add the following functions that will render the next and previous page of the PDF.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">BaseButton</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@gradio/button&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">next_page</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">numPages</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">currentPage</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="nx">render_page</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">prev_page</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">currentPage</span><span class="o">--</span><span class="p">;</span>
<span class="w">        </span><span class="nx">render_page</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>Now we will add them underneath the canvas in a separate <code>&lt;div&gt;</code></p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="o">&lt;</span><span class="nx">ModifyUpload</span><span class="w"> </span><span class="nx">i18n</span><span class="o">=</span><span class="p">{</span><span class="nx">gradio</span><span class="p">.</span><span class="nx">i18n</span><span class="p">}</span><span class="w"> </span><span class="nx">on</span><span class="o">:</span><span class="kt">clear</span><span class="o">=</span><span class="p">{</span><span class="nx">handle_clear</span><span class="p">}</span><span class="w"> </span><span class="nx">absolute</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;pdf-canvas&quot;</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;height: {height}px&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">canvas</span><span class="w"> </span><span class="nx">bind</span><span class="o">:</span><span class="kt">this</span><span class="o">=</span><span class="p">{</span><span class="nx">canvasRef</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/canvas&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;button-row&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">BaseButton</span><span class="w"> </span><span class="nx">on</span><span class="o">:</span><span class="kt">click</span><span class="o">=</span><span class="p">{</span><span class="nx">prev_page</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="err">⬅️</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/BaseButton&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;page-count&quot;</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">currentPage</span><span class="p">}</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">{</span><span class="nx">numPages</span><span class="p">}</span><span class="w"> </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">BaseButton</span><span class="w"> </span><span class="nx">on</span><span class="o">:</span><span class="kt">click</span><span class="o">=</span><span class="p">{</span><span class="nx">next_page</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="err">➡️</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/BaseButton&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="w">    </span><span class="p">...</span>

<span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">.</span><span class="nx">button</span><span class="o">-</span><span class="nx">row</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="kt">flex</span><span class="p">;</span>
<span class="w">        </span><span class="nx">flex</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span><span class="w"> </span><span class="kt">row</span><span class="p">;</span>
<span class="w">        </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="kt">100</span><span class="o">%</span><span class="p">;</span>
<span class="w">        </span><span class="nx">justify</span><span class="o">-</span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">        </span><span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="kt">center</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nx">page</span><span class="o">-</span><span class="nx">count</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="mf">10</span><span class="nx">px</span><span class="p">;</span>
<span class="w">        </span><span class="nx">font</span><span class="o">-</span><span class="nx">family</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">font</span><span class="o">-</span><span class="nx">mono</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>Congratulations! The frontend is almost complete 🎉</p>
<p><img alt="multipage-pdf-gif" src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/pdf_multipage.gif" /></p>
<h2 id="step-85-the-example-view">Step 8.5: The Example view<a class="headerlink" href="#step-85-the-example-view" title="Permanent link">⚓︎</a></h2>
<p>We're going to want users of our component to get a preview of the PDF if its used as an <code>example</code> in a <code>gr.Interface</code> or <code>gr.Examples</code>.</p>
<p>To do so, we're going to add some of the pdf rendering logic in <code>Index.svelte</code> to <code>Example.svelte</code>.</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">lang</span><span class="o">=</span><span class="s2">&quot;ts&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">samples_dir</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;gallery&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="k">import</span><span class="w"> </span><span class="nx">pdfjsLib</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;pdfjs-dist&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">GlobalWorkerOptions</span><span class="p">.</span><span class="nx">workerSrc</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="s2">&quot;https://cdn.bootcss.com/pdf.js/3.11.174/pdf.worker.js&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">pdfDoc</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">;</span>

<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">get_doc</span><span class="p">(</span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">loadingTask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">getDocument</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">        </span><span class="nx">pdfDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">loadingTask</span><span class="p">.</span><span class="nx">promise</span><span class="p">;</span>
<span class="w">        </span><span class="nx">renderPage</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">renderPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Render a specific page of the PDF onto the canvas</span>
<span class="w">            </span><span class="nx">pdfDoc</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="mf">1</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">ctx</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">)</span>
<span class="w">                </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="w"> </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>

<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">viewport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="w"> </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="kt">0.2</span><span class="w"> </span><span class="p">});</span>

<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">renderContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">canvasContext</span><span class="o">:</span><span class="w"> </span><span class="kt">ctx</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">viewport</span>
<span class="w">                </span><span class="p">};</span>
<span class="w">                </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">viewport</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
<span class="w">                </span><span class="nx">canvasRef</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">viewport</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
<span class="w">                </span><span class="nx">page</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">renderContext</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="nx">$</span><span class="o">:</span><span class="w"> </span><span class="kt">get_doc</span><span class="p">(</span><span class="nx">samples_dir</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">div</span>
<span class="w">    </span><span class="nx">class</span><span class="o">:</span><span class="kt">table</span><span class="o">=</span><span class="p">{</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="p">}</span>
<span class="w">    </span><span class="nx">class</span><span class="o">:</span><span class="kt">gallery</span><span class="o">=</span><span class="p">{</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;gallery&quot;</span><span class="p">}</span>
<span class="w">    </span><span class="nx">class</span><span class="o">:</span><span class="kt">selected</span>
<span class="w">    </span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;justify-content: center; align-items: center; display: flex; flex-direction: column;&quot;</span>
<span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">canvas</span><span class="w"> </span><span class="nx">bind</span><span class="o">:</span><span class="kt">this</span><span class="o">=</span><span class="p">{</span><span class="nx">canvasRef</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/canvas&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">.</span><span class="nx">gallery</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="kt">var</span><span class="p">(</span><span class="o">--</span><span class="nx">size</span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="kd">var</span><span class="p">(</span><span class="o">--</span><span class="nx">size</span><span class="o">-</span><span class="mf">2</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/style&gt;</span>
</code></pre></div>
<p>Tip: Exercise for the reader - reduce the code duplication between <code>Index.svelte</code> and <code>Example.svelte</code> 😊</p>
<p>You will not be able to render examples until we make some changes to the backend code in the next step!</p>
<h2 id="step-9-the-backend">Step 9: The backend<a class="headerlink" href="#step-9-the-backend" title="Permanent link">⚓︎</a></h2>
<p>The backend changes needed are smaller.
We're almost done!</p>
<p>What we're going to do is:
* Add <code>change</code> and <code>upload</code> events to our component.
* Add a <code>height</code> property to let users control the height of the PDF.
* Set the <code>data_model</code> of our component to be <code>FileData</code>. This is so that Gradio can automatically cache and safely serve any files that are processed by our component.
* Modify the <code>preprocess</code> method to return a string corresponding to the path of our uploaded PDF.
* Modify the <code>postprocess</code> to turn a path to a PDF created in an event handler to a <code>FileData</code>.</p>
<p>When all is said an done, your component's backend code should look like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span>

<span class="kn">from</span> <span class="nn">gradio.components.base</span> <span class="kn">import</span> <span class="n">Component</span>
<span class="kn">from</span> <span class="nn">gradio.data_classes</span> <span class="kn">import</span> <span class="n">FileData</span>
<span class="kn">from</span> <span class="nn">gradio</span> <span class="kn">import</span> <span class="n">processing_utils</span>

<span class="k">class</span> <span class="nc">PDF</span><span class="p">(</span><span class="n">Component</span><span class="p">):</span>

    <span class="n">EVENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="s2">&quot;upload&quot;</span><span class="p">]</span>

    <span class="n">data_model</span> <span class="o">=</span> <span class="n">FileData</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                 <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">show_label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">container</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">scale</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">interactive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">elem_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">elem_classes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">render</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">load_fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">every</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="n">info</span><span class="p">,</span>
                         <span class="n">show_label</span><span class="o">=</span><span class="n">show_label</span><span class="p">,</span> <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
                         <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
                         <span class="n">interactive</span><span class="o">=</span><span class="n">interactive</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span>
                         <span class="n">elem_id</span><span class="o">=</span><span class="n">elem_id</span><span class="p">,</span> <span class="n">elem_classes</span><span class="o">=</span><span class="n">elem_classes</span><span class="p">,</span>
                         <span class="n">render</span><span class="o">=</span><span class="n">render</span><span class="p">,</span> <span class="n">load_fn</span><span class="o">=</span><span class="n">load_fn</span><span class="p">,</span> <span class="n">every</span><span class="o">=</span><span class="n">every</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>

    <span class="k">def</span> <span class="nf">preprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">FileData</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">payload</span><span class="o">.</span><span class="n">path</span>

    <span class="k">def</span> <span class="nf">postprocess</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileData</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">FileData</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">example_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/fw9.pdf&quot;</span>

    <span class="k">def</span> <span class="nf">as_example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_data</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">input_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">processing_utils</span><span class="o">.</span><span class="n">move_resource_to_block_cache</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</code></pre></div>
<h2 id="step-10-add-a-demo-and-publish">Step 10: Add a demo and publish!<a class="headerlink" href="#step-10-add-a-demo-and-publish" title="Permanent link">⚓︎</a></h2>
<p>To test our backend code, let's add a more complex demo that performs Document Question and Answering with huggingface transformers.</p>
<p>In our <code>demo</code> directory, create a <code>requirements.txt</code> file with the following packages</p>
<div class="highlight"><pre><span></span><code>torch
transformers
pdf2image
pytesseract
</code></pre></div>
<p>Tip: Remember to install these yourself and restart the dev server! You may need to install extra non-python dependencies for <code>pdf2image</code>. See <a href="https://pypi.org/project/pdf2image/">here</a>. Feel free to write your own demo if you have trouble.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">gradio</span> <span class="k">as</span> <span class="nn">gr</span>
<span class="kn">from</span> <span class="nn">gradio_pdf</span> <span class="kn">import</span> <span class="n">PDF</span>
<span class="kn">from</span> <span class="nn">pdf2image</span> <span class="kn">import</span> <span class="n">convert_from_path</span>
<span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">pipeline</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">dir_</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">pipeline</span><span class="p">(</span>
    <span class="s2">&quot;document-question-answering&quot;</span><span class="p">,</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;impira/layoutlm-document-qa&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">qa</span><span class="p">(</span><span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">convert_from_path</span><span class="p">(</span><span class="n">doc</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">p</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">question</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;answer&#39;</span><span class="p">]</span>


<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">qa</span><span class="p">,</span>
    <span class="p">[</span><span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Question&quot;</span><span class="p">),</span> <span class="n">PDF</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Document&quot;</span><span class="p">)],</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(),</span>
<span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div>
<p>See our demo in action below!</p>
<video autoplay muted loop>
  <source src="https://gradio-builds.s3.amazonaws.com/assets/pdf-guide/PDFDemo.mov" type="video/mp4" />
</video>

<p>Finally lets build our component with <code>gradio cc build</code> and publish it with the <code>gradio cc publish</code> command!
This will guide you through the process of uploading your component to <a href="https://pypi.org/">PyPi</a> and <a href="https://huggingface.co/spaces">HuggingFace Spaces</a>.</p>
<p>Tip: You may need to add the following lines to the <code>Dockerfile</code> of your HuggingFace Space.</p>
<div class="highlight"><pre><span></span><code><span class="k">RUN</span><span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/cache/
<span class="k">RUN</span><span class="w"> </span>chmod<span class="w"> </span>a+rwx<span class="w"> </span>-R<span class="w"> </span>/tmp/cache/
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>poppler-utils<span class="w"> </span>tesseract-ocr

<span class="k">ENV</span><span class="w"> </span><span class="nv">TRANSFORMERS_CACHE</span><span class="o">=</span>/tmp/cache/
</code></pre></div>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">⚓︎</a></h2>
<p>In order to use our new component in <strong>any</strong> gradio 4.0 app, simply install it with pip, e.g. <code>pip install gradio-pdf</code>. Then you can use it like the built-in <code>gr.File()</code> component (except that it will only accept and display PDF files).</p>
<p>Here is a simple demo with the Blocks api:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">gradio</span> <span class="k">as</span> <span class="nn">gr</span>
<span class="kn">from</span> <span class="nn">gradio_pdf</span> <span class="kn">import</span> <span class="n">PDF</span>

<span class="k">with</span> <span class="n">gr</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">pdf</span> <span class="o">=</span> <span class="n">PDF</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Upload a PDF&quot;</span><span class="p">,</span> <span class="n">interactive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">()</span>
    <span class="n">pdf</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="n">pdf</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</code></pre></div>
<p>I hope you enjoyed this tutorial!
The complete source code for our component is <a href="https://huggingface.co/spaces/freddyaboulton/gradio_pdf/tree/main/src">here</a>.
Please don't hesitate to reach out to the gradio community on the <a href="https://discord.gg/hugging-face-879548962464493619">HuggingFace Discord</a> if you get stuck.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../06_frequently-asked-questions/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Frequently Asked Questions">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Frequently Asked Questions
              </div>
            </div>
          </a>
        
        
          
          <a href="../08_multimodal-chatbot-part1/" class="md-footer__link md-footer__link--next" aria-label="下一页: Build a Custom Multimodal Chatbot - Part 1">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Build a Custom Multimodal Chatbot - Part 1
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Ean Yang
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YQisme" target="_blank" rel="noopener" title="github主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/244185393?spm_id_from=333.788.0.0" target="_blank" rel="noopener" title="b站主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://eanyang7.com" target="_blank" rel="noopener" title="个人主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M112 48a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm40 304v128c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9l-28.6 47.6c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352h-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.top", "toc.follow", "header.autohide", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>